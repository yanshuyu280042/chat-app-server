chmod 400 mykey.pem
ssh -i mykey.pem ec2-user@18.222.51.45
chmod 400 mykey.pem
ssh -i mykey.pem ec2-user@18.222.51.45
chmod 400 mykey.pem
ssh -i mykey.pem ec2-user@18.222.51.45
exit
chmod 400 mykey.pem
ssh -i mykey.pem ec2-user@18.222.51.45
 chmod 400 mykey.pem
ls -l mykey.pem
exit
ls -l mykey.pem
ssh -v -i mykey.pem ec2-user@18.222.51.45
exit
ssh -v -i mykey.pem ec2-user@18.222.51.45
exit
chmod 400 mykey.pem
ssh -i mykey.pem ec2-user@18.222.51.45
exit
curl -X POST http://localhost:8080/register   -H 'Content-Type:application/json'   -d '{"email":"a@b.com","password":"123"}' -v
~ $ curl -X POST http://localhost:8080/register >   -H 'Content-Type:application/json' >   -d '{"email":"a@b.com","password":"123"}' -v
Note: Unnecessary use of -X or --request, POST is already inferred.
* Host localhost:8080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
*   Trying [::1]:8080...
* connect to ::1 port 8080 from ::1 port 57986 failed: Connection refused
*   Trying 127.0.0.1:8080...
* connect to 127.0.0.1 port 8080 from 127.0.0.1 port 56862 failed: Connection refused
* Failed to connect to localhost port 8080 after 0 ms: Couldn't connect to server
* Closing connection
curl: (7) Failed to connect to localhost port 8080 after 0 ms: Couldn't connect to server
~ $ 
exit
~ $ curl -X POST http://localhost:8080/register >   -H 'Content-Type:application/json' >   -d '{"email":"a@b.com","password":"123"}' -v
Note: Unnecessary use of -X or --request, POST is already inferred.
* Host localhost:8080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
*   Trying [::1]:8080...
* connect to ::1 port 8080 from ::1 port 57986 failed: Connection refused
*   Trying 127.0.0.1:8080...
* connect to 127.0.0.1 port 8080 from 127.0.0.1 port 56862 failed: Connection refused
* Failed to connect to localhost port 8080 after 0 ms: Couldn't connect to server
* Closing connection
curl: (7) Failed to connect to localhost port 8080 after 0 ms: Couldn't connect to server
~ $ 
exit
curl -X POST http://localhost:8080/register -H 'Content-Type:application/json' -d '{"email":"a@b.com","password":"123"}' -v
exit
ls -l mykey.pem
exit
ssh-keygen -l -f mykey.pem
exit
curl -X POST http://localhost:8080/register   -H 'Content-Type:application/json'   -d '{"email":"a@b.com","password":"123"}' -v
exit
curl -X POST http://localhost:8080/register   -H 'Content-Type:application/json'   -d '{"email":"a@b.com","password":"123"}' -v
exit
ssh -i mykey.pem ec2-user@3.15.209.251
exit
ssh -i mykey.pem ec2-user@3.15.209.251
exit
ssh -i mykey.pem ec2-user@3.15.209.251
exit
ssh -v -i mykey.pem ec2-user@3.15.209.251
ls -l mykey.pem
exit
chmod 400 mykey.pem
ssh -i mykey.pem ec2-user@3.15.209.251
exit
ssh -i mykey.pem ec2-user@3.15.209.251
exit
ls -l mykey.pem
file mykey.pem
~ $ ls -l mykey.pem
chmod 400 mykey.pem
ssh -i mykey.pem ec2-user@3.15.209.251
exit
~ $ chmod 400 mykey.pem
~ $ ssh -i mykey.pem ec2-user@3.15.209.251
ssh -i mykey.pem ec2-user@3.15.209.251
exit
~ $ ssh -i mykey.pem ec2-user@3.15.209.251
ssh -i mykey.pem ec2-user@3.15.209.251
exit
chmod 400 mykey.pem
ssh -i mykey.pem ec2-user@3.15.209.251
exit
chmod 400 mykey.pem
ssh -i mykey.pem ec2-user@3.15.209.251
exit
ssh -i mykey.pem ec2-user@3.15.209.251
ssh -v -i mykey.pem ec2-user@3.15.209.251
exit
ssh -v -i mykey.pem ec2-user@3.15.209.251
exit
ssh -v -i mykey.pem ec2-user@3.15.209.251
exit
ssh -v -i mykey.pem ec2-user@3.15.209.251
exit
ls -l
rm -f -d -H
exit
ps aux | grep java
./gradlew bootRun --info
exit
ps aux | grep java
./gradlew clean build -x test
exit
ssh -i mykey.pem ec2-user@3.138.154.117
exit
ssh -i mykey.pem ec2-user@3.138.154.117
exit
curl http://localhost:8080/
ps aux | grep java
cd ~/demo
./gradlew bootRun
ssh -i mykey.pem ec2-user@3.138.154.117
exit
ssh -i mykey.pem ec2-user@3.138.154.117
exit
ssh -i mykey.pem ec2-user@3.138.154.117
exit
ssh -i mykey.pem ec2-user@3.138.154.117
exit
ssh -i mykey.pem ec2-user@3.138.154.117
exit
ssh -i mykey.pem ec2-user@18.191.126.178
exit
ssh -i mykey.pem ec2-user@18.191.126.178
exit
ssh -i mykey.pem ec2-user@18.191.126.178
exit
ssh -i mykey.pem ec2-user@18.191.126.178
exit
ssh -i mykey.pem ec2-user@18.218.232.119
exit
ssh -i mykey.pem ec2-user@18.218.232.119
exit
ssh -i mykey.pem ec2-user@18.218.232.119
exit
http://ssh%20-i%20mykey.pem%20ec2-user@18.218.214.244/
exit
 ssh -i your-key.pem ec2-user@18.218.214.244
exit
ssh -i mykey.pem ec2-user@18.218.214.244
exit
ssh -i mykey.pem ec2-user@18.218.214.244
exit
ssh -i mykey.pem ec2-user@18.218.214.244
exit
ssh -i mykey.pem ec2-user@18.218.214.244
exit
ssh -i mykey.pem ec2-user@18.218.214.244
exit
ssh-keygen -t ed25519 -C "yanshuyu280042@gmail.com"
cat ~/.ssh/id_ed25519.pub
ssh -T git@github.com
git push -u origin main
git remote -v
git push -u origin main
git pull --rebase origin main
git push -u origin main
git add .
git commit -m "Save local work before pulling remote"
git pull --rebase origin main
git push -u origin main
chmod 600 ~/.ssh/id_ed25519
git push -u origin main
~ $ git push -u origin main
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
Permissions 0644 for '/home/cloudshell-user/.ssh/id_ed25519' are too open.
It is required that your private key files are NOT accessible by others.
This private key will be ignored.
Load key "/home/cloudshell-user/.ssh/id_ed25519": bad permissions
git@github.com: Permission denied (publickey).
fatal: Could not read from remote repository.
Please make sure you have the correct access rights
and the repository exists.
~ $ chmod 600 ~/.ssh/id_ed25519
~ $ git push -u origin main
Enumerating objects: 29, done.
Counting objects: 100% (29/29), done.
Delta compression using up to 2 threads
Compressing objects: 100% (25/25), done.
Writing objects: 100% (28/28), 6.48 KiB | 170.00 KiB/s, done.
Total 28 (delta 6), reused 0 (delta 0), pack-reused 0 (from 0)
remote: Resolving deltas: 100% (6/6), done.
remote: error: GH013: Repository rule violations found for refs/heads/main.
remote: 
remote: - GITHUB PUSH PROTECTION
remote:   —————————————————————————————————————————
remote:     Resolve the following violations before pushing again
remote: 
remote:     - Push cannot contain secrets
remote: 
remote:     
remote:      (?) Learn how to resolve a blocked push
remote:      https://docs.github.com/code-security/secret-scanning/working-with-secret-scanning-and-push-protection/working-with-push-protection-from-the-command-line#resolving-a-blocked-push
remote:     
remote:       —— GitHub SSH Private Key ————————————————————————————
remote:        locations:
remote:          - commit: ee8dc6a870271ddef0bad04d6e8ab22ba4b7e1fd
remote:            path: .ssh/id_ed25519:1
remote:     
remote:        (?) To push, remove secret from commit(s) or follow this URL to allow the secret.
remote:        https://github.com/yanshuyu280042/chat-app-server/security/secret-scanning/unblock-secret/2y1TtQUCj8CxWLt187vVKld26ao
remote:     
remote: 
To github.com:yanshuyu280042/chat-app-server.git
 ! [remote rejected] main -> main (push declined due to repository rule violations)
error: failed to push some refs to 'github.com:yanshuyu280042/chat-app-server.git'
~ $ echo ".ssh/id_ed25519" >> .gitignore
git add .gitignore
git commit -m "Remove private key and add to .gitignore"
git filter-branch --force --index-filter "git rm --cached --ignore-unmatch .ssh/id_ed25519" --prune-empty --tag-name-filter cat -- --all
git push -u origin main --force
# 1. 备份旧私钥（可选）
mv ~/.ssh/id_ed25519 ~/.ssh/id_ed25519_old
mv ~/.ssh/id_ed25519.pub ~/.ssh/id_ed25519.pub_old
# 2. 创建新密钥
ssh-keygen -t ed25519 -C "yanshuyu280042@gmail.com"
cat ~/.ssh/id_ed25519.pub
ssh -T git@github.com
git push -u origin main --force
exit
.github/workflows/deploy.yml
mkdir -p .github/workflows
nano .github/workflows/deploy.yml
git add .github/workflows/deploy.yml
git commit -m "Add GitHub Actions for EC2 auto deploy"
git push origin main
git pull --rebase origin main
git push origin main
git add .
git commit -m "Save current changes before rebase"
git pull --rebase origin main
git push origin main
chmod 600 ~/.ssh/id_ed25519
git push origin main
git filter-branch --force --index-filter "git rm --cached --ignore-unmatch .ssh/id_ed25519" --prune-empty --tag-name-filter cat -- --all
git push origin --force --all
git remote set-url origin https://github.com/yanshuyu280042/chat-app-server.git
git push --force --all
git credential-cache exit
git credential reject
git push --force --all
cat mykey.pem
echo "# trigger deploy" >> README.md
git add README.md
git commit -m "Trigger deploy after adding secrets"
git push origin main
echo "# deploy retry" >> README.md
git add README.md
git commit -m "Retry deploy"
git push origin main
 nano .github/workflows/deploy.yml
nano .github/workflows/deploy.yml
git add .github/workflows/deploy.yml
git commit -m "Fix secrets usage for EC2 auto deploy"
git push origin main
nano .github/workflows/deploy.yml
git add .github/workflows/deploy.yml
git commit -m "Fix YAML syntax (script indentation)"
git push origin main
nano .github/workflows/deploy.yml
git add .github/workflows/deploy.yml
git commit -m "Add working EC2 deploy workflow"
git push origin main
nano .github/workflows/deploy.yml
git add .github/workflows/deploy.yml
git commit -m "Test minimal EC2 connection"
git push origin main
nano .github/workflows/deploy.yml
git add .github/workflows/deploy.yml
git commit -m "Restore full deploy logic"
git push origin main
exit
